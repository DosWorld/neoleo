 <!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>neobasic</title>
  </head>

<body>
<h1>neobasic</h1>

<code>Neobasic</code> is an embedded BASIC-like language.

<p>
It has syntactic elements: def (defines functions), for, let
</p>

<p>
<b>Comments/remarks</b> in neobasic start from <code>#</code>, and continue to the end of the line. E.g.
<pre>#This is a comment</pre>
</p>

<p>
<b>Strings</b> may be enclosed in double or single quotes, like so:
<pre>
println("String tests")
println('Single quotes')
println('Embedded "double quotes" within single quotes')
</pre>
</p>



<p><b>Variable names</b> must be prefixed with <code>?</code>, e.g. <code>?myvar</code>. This is to stop potential confusion if I want to add things like cell references as first syntactic objects. Variables do not have to be defined before use.</p>

<hr><h2>Commands</h2>

<h3>cmd</h3>

Execute a regular neoleo command. Example:
<pre>
cmd("goto-cell A1")
cmd("edit-cell 42") # straightforward value
cmd("goto-cell A2")
cmd('edit-cell "a string"') # a string
cmd("goto-cell A3")
cmd('edit-cell 1 + 2') # a formula
</pre>
This will set the value of cell B2 to 42.


<h3>def: function definitions</h3>

<p>
Functions should be enclosed in <code>def ... fed</code> blocks. If the last value is an expression, then that is the value that is returned from the function.
</p>

<p>
The following example returns the input value, incremented by 1:
<pre>
def inc(?v)
        let ?v := ?v +1
        ?v
fed
println("inc 12=", inc(12), "expecting 13")
</pre>
</p>


<h3>for loops</h3>

They work as follows:
<pre>
for ?i := 1 to 3
	println(?i)
next
</pre>
 
<h3>gotorc</h3>

Set the current cell to a given row and column. E.g.
<pre>
gotorc(2,3) # go to row 2, col 3
cmd('edit-cell 42') # set the value at that cell to 42
</pre>

<h3>let</h3>

Assigns the value of an expression to a variable. Example:
<pre>
let ?life := 41+1
println("Meaning of life is ", ?life)
</pre>

<h3>println</h3>

Prints a list of elements. See the <code>let</code> example.

<h3>refresh</h3>

Repaint the screen. You should only do this if neoleo is in ncurses mode. Example:
<pre>
cmd('redraw-screen')
refresh()
</pre>

<h3>sleeps</h3>

Sleep for a given number of seconds. Example:
<pre>
sleeps(0.5)
</pre>

</body>
</html>
